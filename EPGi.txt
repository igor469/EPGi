Проект "EPGi". (Версия 04.08.25)

Оглавление
1. Основная цель проекта
2. Структура проекта
3. Ограничения и допущения проекта
4. Структура, состав входного файла параметров EPGi.ini
5. Файл журнала (EPGi.log)
6. Основная логика работы результирующей программы 

1. Основная цель проекта
Основная цель проекта - реализация консольной (CLI) программы на Python, которая предоставляет пользователю интерактивные средства просмотра актуальной программ передач каналов IPTV от нескольких поставщиков EPG.

2. Структура проекта
Структура проекта -
EPGi/
├── EPGi.py           ← основная программа
├── EPGi.ini          ← файл параметров
├── EPGi.log          ← файл журнала-протокола работы программы 
└── README.md

3. Ограничения и допущения проекта
Файлы EPG представлены в структуре XML.
Структура и состав атрибутов файлов EPG у разных поставщиков EPG отличаются.
Файлы EPG может быть архивированы.
Количество поставщиков EPG: 1-9.
Количество каналов IPTV в одном файле EPG: 1 - 10000.
Количество дней программы передач для одного канала: 1 - 14.

4. Структура, состав входного файла параметров EPGi.ini
В файле параметров EPGi.ini пользователем указываются следующие параметры:
urlN - http ссылка на актуальный файл EPG от N-го поставщика (N=1-9). 
Пример файла EPGi.ini
-----
[DEFAULT]
url1=http://epg.it999.ru/epg.xml.gz
url2=http://epg.online/epg.xml.gz
url3=http://1lot.tv/epg/epg.xml
url4=http://epg.ott-play.com/edem/edem.xml.gz
url5=http://epg.ott-play.com/ottg/epg.xml.gz
url6=http://epg.ott-play.com/only4/epg.xml.gz
-----

5. Файл журнала (EPGi.log)
В файл журнала (EPGi.log) выводится следующая информация:
- время старта программы
- все ошибки работы
Времена в сообщениях выводятся в формате - чч:мм:сс
Каждая строка журнала имеет структуру - 2025-07-10 14:23:27: Сообщение...
Файл журнала дописывается а не удаляется при каждом запуске программы

6. Основная логика работы результирующей программы
Вначале считывается и обрабатывается файл параметров EPGi.ini.
Затем происходит интерактивный процес предоставления информации пользователю нескольких рабочих экранах по которым и между которыми он перемещается.
Информация выдается в чисто табличной форме.
Заголовки (шапки) таблиц не выводятся.
Количество строк определяется размерами экрана (окна).
Колонки имеют фиксированную ширину. Остаток информации, который не помещается в колонку отсекается (обрезается).
Все колонки разделяются пробелом.

Считывание и обработка файла EPG могут занимать значительное время. Поэтому его считывание и обработка выполняется один раз - при необходимости вывода информации из него. 
Если пользователь не обращается к информации какого то EPG то она и не считывается.
Если пользователь повторно обращается к информации какого то EPG то она повторно не считывается, а берется из сохраненной его информации, полученной при первом обращении.

Первый экран (э1) - таблица из 2 колонок и P строк на экране, где:
1 колонка: номер поставщика EPG одна цифра (1-9)
2 колонка: urlN (http ссылка на файл EPG этого поставщика)
Количество строк P - это количество поставщиков EPG.
Т е каждая строка это информация об одном поставщике EPG из EPGi.ini
Таблица центрируется по размеру экрана.
Действия и перемещения по э1:
- стрелочками "вверх", "вниз" - перемещение по строкам
- стрелочкой "вправо" или Enter - переход на экран 2 (э2)
- стрелочкой "влево" или Esc - завершение работы программы

Второй экран (э2) - таблица из 4 колонок, где:
1 колонка: наименование канала (20 символов)
2 колонка: наименование текущей передачи.
3 колонка: число от 0 до 100, показывающее % времени прошедший с начала передачи
4 колонка: графический индикатор (10 символов), показывающий % времени прошедший с начала передачи
Таблица отсортирована по наименованию канала
Количество выводимых строк зависит от размера экрана.
Т е каждая строка это информация о канале с актуальной (текущей) передачей идущей сейчас на нем.
Действия и перемещения по э2:
- стрелочками "вверх", "вниз" - перемещение по строкам
- стрелочкой "вправо" или Enter - переход на экран 3 (э3)
- стрелочкой "влево" или Esc - переход на экран 1 (э1)
- PageUp, PageDown - постраничное перемещение
- Home, End - перемещение в начало, конец таблицы

Третий экран (э3) - таблица из 3 колонок, где:
1 колонка: дата передачи в формате дд:мм (5 символов)
2 колонка: время начала передачи в формате чч:мм (5 символов)
3 колонка: наименование передачи
Количество строк э3 зависит от размера экрана.
Последовательность строк э3 - это последовательность (во времени) передач текущего канала.
Т е таблица отсортирована по дате и времени передач.
Каждая строка это информация о передаче идущей в указаною дату + время.
При входе в э3: 
1 строка - предыдущая программа канала
2 строка - текущая программа канала
3 строка - следующая программа канала
...
Действия и перемещения по э3:
- стрелочками "вверх", "вниз" - перемещение по строкам (программам передач)
- стрелочкой "вправо" или Enter - ничего
- стрелочкой "влево" или Esc - переход на э2 в тоже строку
- PageUp, PageDown - постраничное перемещение
- Home, End - перемещение в начало, конец программы передач этого канала
Даты+Время программ, которые завершены выводятся желтым цветом.
